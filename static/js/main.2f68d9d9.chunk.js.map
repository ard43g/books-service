{"version":3,"sources":["components/books/books.module.css","components/modal/modal.module.css","components/spinner/spinner.module.css","components/button-main/button-main.module.css","components/search-panel/search-panel.module.css","components/search-container/search-container.module.css","components/filter-panel/filter-panel.module.css","components/title/title.module.css","components/counter/counter.module.css","api/api.js","reducer/reducer.js","components/filter-panel/filter-panel.js","components/modal/modal.js","components/button-main/button-main.js","components/search-panel/search-panel.js","components/title/title.js","selectors/selectors.js","components/search-container/search-container.js","components/books/books.js","components/counter/counter.js","components/spinner/spinner.js","components/books-container/books-container.js","components/book-page/book-page.js","components/book-page-container/book-page-container.js","App.js","store/store.js","components/error-boundary/error-boundary.js","index.js","components/book-page/book-page.module.css"],"names":["module","exports","api","requestBooks","searchTerm","activeCategories","sort","count","fetch","then","data","json","SET_TOTAL_COUNT","SET_BOOKS","SET_ACTIVE_CATEGORIES","SET_ACTIVE_SORT","SET_LOAD_BOOKS_COUNT","UPDATE_BOOKS","SET_LOADING","SET_ERROR","SET_NOTIFICATION","SET_PAGE_BOOK","ON_CLOSE_MODAL","DELETE_BOOKSHELF","DELETE_ACTIVE_BOOK","SET_CURRENT_POSITION","initialState","loading","error","notification","stepPage","subjects","books","totalCount","activeSort","activeBook","loadBooksCount","currentPosition","setLoading","type","setError","setNotification","setTotalCount","setBooks","items","updateBooks","deleteBookshelf","setCurrentPosition","position","reducer","state","action","length","categories","id","ind","findIndex","i","FilterPanel","memo","value","name","onSetCategories","onSetSort","className","styles","filter__select","onChange","e","target","map","Modal","onCloseModal","message","critical","document","body","style","overflow","ReactDOM","createPortal","modal__wrapper","modal__body","modal__close","onClick","modal__text","ButtonMain","disabled","props","setLoadBooksCount","button","SearchPanel","onSearchBook","booksInShelfCount","useState","term","setTerm","countBooksLoaded","setCountBooksLoaded","history","useHistory","useEffect","search__wrapper","onSubmit","preventDefault","push","search__input","Title","title","title__main","getSubjects","getSort","getBooks","getActiveBook","getTotalCount","getActiveCategories","getActiveSort","getLoadBooksCount","isLoading","getBooksInShelfCount","getStepPage","getNotification","getCurrentPosition","isError","connect","dispatch","update","a","res","totalItems","searchBookshelf","setActiveCategories","search__container","search__filter","Books","setBookPage","toBookPage","window","pageYOffset","scrollTo","books__wrapper","authors","volumeInfo","reduce","acc","book__wrapper","book__image","src","imageLinks","smallThumbnail","alt","book__categories","book__title","book__authors","Counter","counter","Spinner","spinner__wrapper","spinner__block","loadingio__spinner__magnify__br2a0iyrb4a","ldio__v41ylq3usio","setPageBook","BookPage","click","image","subtitle","date","descr","button__back","book__descr","book__subtitle","book__date","book__description","deleteActiveBook","location","pathname","to","thumbnail","publishedDate","searchInfo","textSnippet","App","basename","exact","path","component","BooksContainer","BookPageContainer","store","createStore","applyMiddleware","thunkMiddleware","ErrorBoundary","console","log","this","setState","children","Component","render","getElementById"],"mappings":"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","file":"static/js/main.2f68d9d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"books__wrapper\":\"books_books__wrapper__ukusG\",\"book__wrapper\":\"books_book__wrapper__S2SgS\",\"book__image\":\"books_book__image__3rqbX\",\"book__categories\":\"books_book__categories__1UIo5\",\"book__title\":\"books_book__title__1u_P9\",\"book__authors\":\"books_book__authors__2sMXH\",\"book__date\":\"books_book__date__3Ut3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal__wrapper\":\"modal_modal__wrapper__O2MPa\",\"modal__body\":\"modal_modal__body__SFa8J\",\"modal__close\":\"modal_modal__close__3B7nc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner__wrapper\":\"spinner_spinner__wrapper__21sBE\",\"spinner__block\":\"spinner_spinner__block__3iO4B\",\"ldio__v41ylq3usio\":\"spinner_ldio__v41ylq3usio__1D5ba\",\"ldio-v41ylq3usio\":\"spinner_ldio-v41ylq3usio__2k0Kh\",\"loadingio__spinner__magnify__br2a0iyrb4a\":\"spinner_loadingio__spinner__magnify__br2a0iyrb4a__1NWRX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button-main_button__3ikAj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__wrapper\":\"search-panel_search__wrapper__NPP-8\",\"search__input\":\"search-panel_search__input__1LDSM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__container\":\"search-container_search__container__PpRLb\",\"search__filter\":\"search-container_search__filter__23PTE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter__select\":\"filter-panel_filter__select__3CeIw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title__main\":\"title_title__main__28_6v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"counter_counter__cvx5j\"};","const baseUrl = \"https://www.googleapis.com/books/v1/\";\r\n\r\nconst api = {\r\n    async requestBooks(searchTerm, activeCategories, sort, count) {\r\n        return await fetch(\r\n            `${baseUrl}volumes?q=${searchTerm}${activeCategories}&maxResults=30&orderBy=${sort}&startIndex=${count}`\r\n        ).then((data) => data.json());\r\n    },\r\n};\r\n\r\nexport default api;\r\n","import api from \"../api/api\";\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\";\r\nconst SET_BOOKS = \"SET_BOOKS\";\r\nconst SET_ACTIVE_CATEGORIES = \"SET_ACTIVE_CATEGORIES\";\r\nconst SET_ACTIVE_SORT = \"SET_ACTIVE_SORT\";\r\nconst SET_LOAD_BOOKS_COUNT = \"SET_LOAD_BOOK_COUNT\";\r\nconst UPDATE_BOOKS = \"UPDATE_BOOKS\";\r\nconst SET_LOADING = \"SET_LOADING\";\r\nconst SET_ERROR = \"SET_ERROR\";\r\nconst SET_NOTIFICATION = \"SET_NOTIFICATION\";\r\nconst SET_PAGE_BOOK = \"SET_PAGE_BOOK\";\r\nconst ON_CLOSE_MODAL = \"ON_CLOSE_MODAL\";\r\nconst DELETE_BOOKSHELF = \"DELETE_BOOKSHELF\";\r\nconst DELETE_ACTIVE_BOOK = \"DELETE_ACTIVE_BOOK\";\r\nconst SET_CURRENT_POSITION = \"SET_CURRENT_POSITION\";\r\n\r\nlet initialState = {\r\n    loading: false,\r\n    error: false,\r\n    notification: null,\r\n    stepPage: 30,\r\n    subjects: [\"all\", \"art\", \"biography\", \"computers\", \"history\", \"medical\", \"poetry\"],\r\n    sort: [\"relevance\", \"newest\"],\r\n    books: [],\r\n    totalCount: 0,\r\n    activeCategories: \"all\",\r\n    activeSort: \"relevance\",\r\n    activeBook: null,\r\n    loadBooksCount: 0,\r\n    currentPosition: 0,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: action.loading,\r\n            };\r\n        case SET_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.error,\r\n            };\r\n        case SET_NOTIFICATION:\r\n            return {\r\n                ...state,\r\n                notification: action.notification,\r\n            };\r\n        case SET_TOTAL_COUNT:\r\n            return {\r\n                ...state,\r\n                totalCount: action.count,\r\n            };\r\n        case SET_BOOKS:\r\n            return {\r\n                ...state,\r\n                books: action.items,\r\n                loadBooksCount: action.items.length,\r\n            };\r\n        case SET_ACTIVE_CATEGORIES:\r\n            return {\r\n                ...state,\r\n                activeCategories: action.categories,\r\n            };\r\n        case SET_ACTIVE_SORT:\r\n            return {\r\n                ...state,\r\n                activeSort: action.activeSort,\r\n            };\r\n        case UPDATE_BOOKS:\r\n            return {\r\n                ...state,\r\n                books: [...state.books, ...action.items],\r\n            };\r\n        case SET_LOAD_BOOKS_COUNT:\r\n            return {\r\n                ...state,\r\n                loadBooksCount: action.count,\r\n            };\r\n        case SET_PAGE_BOOK:\r\n            const id = action.activeBook;\r\n            const ind = state.books.findIndex((i) => i.id === id);\r\n            return {\r\n                ...state,\r\n                activeBook: state.books[ind],\r\n            };\r\n        case ON_CLOSE_MODAL:\r\n            return {\r\n                ...state,\r\n                notification: null,\r\n                error: false,\r\n            };\r\n        case DELETE_BOOKSHELF:\r\n            return {\r\n                ...state,\r\n                books: [],\r\n                totalCount: 0,\r\n            };\r\n        case SET_CURRENT_POSITION:\r\n            return {\r\n                ...state,\r\n                currentPosition: action.position,\r\n            };\r\n        case DELETE_ACTIVE_BOOK:\r\n            return {\r\n                ...state,\r\n                activeBook: null,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setLoading = (loading) => {\r\n    return {\r\n        type: SET_LOADING,\r\n        loading,\r\n    };\r\n};\r\nconst setError = (error) => {\r\n    return {\r\n        type: SET_ERROR,\r\n        error,\r\n    };\r\n};\r\nconst setNotification = (notification) => {\r\n    return {\r\n        type: SET_NOTIFICATION,\r\n        notification,\r\n    };\r\n};\r\nconst setTotalCount = (count) => {\r\n    return {\r\n        type: SET_TOTAL_COUNT,\r\n        count,\r\n    };\r\n};\r\n\r\nconst setBooks = (items) => {\r\n    return {\r\n        type: SET_BOOKS,\r\n        items,\r\n    };\r\n};\r\nconst updateBooks = (items) => {\r\n    return {\r\n        type: UPDATE_BOOKS,\r\n        items,\r\n    };\r\n};\r\nexport const setLoadBooksCount = (count) => {\r\n    return {\r\n        type: SET_LOAD_BOOKS_COUNT,\r\n        count,\r\n    };\r\n};\r\nexport const setActiveCategories = (categories) => {\r\n    return {\r\n        type: SET_ACTIVE_CATEGORIES,\r\n        categories,\r\n    };\r\n};\r\nexport const setActiveSort = (activeSort) => {\r\n    return {\r\n        type: SET_ACTIVE_SORT,\r\n        activeSort,\r\n    };\r\n};\r\nexport const setPageBook = (id) => {\r\n    return {\r\n        type: SET_PAGE_BOOK,\r\n        activeBook: id,\r\n    };\r\n};\r\nexport const onCloseModal = () => {\r\n    return {\r\n        type: ON_CLOSE_MODAL,\r\n    };\r\n};\r\nconst deleteBookshelf = () => {\r\n    return {\r\n        type: DELETE_BOOKSHELF,\r\n    };\r\n};\r\nexport const deleteActiveBook = () => {\r\n    return {\r\n        type: DELETE_ACTIVE_BOOK,\r\n    };\r\n};\r\n\r\nexport const setCurrentPosition = (position) => {\r\n    return {\r\n        type: SET_CURRENT_POSITION,\r\n        position,\r\n    };\r\n};\r\n\r\nexport const searchBookshelf = (term, categories, sort, count = 0, update = false) => {\r\n    const activeCategories = categories === \"all\" ? \"\" : `+subject:${categories}`;\r\n    const searchTerm = `intitle:${term}`;\r\n    return async (dispatch) => {\r\n        dispatch(setLoading(true));\r\n        try {\r\n            const res = await api.requestBooks(searchTerm, activeCategories, sort, count);\r\n\r\n            if (res.totalItems === 0) {\r\n                dispatch(setError(true));\r\n                dispatch(setNotification(\"Совпадений не найдено\"));\r\n                dispatch(deleteBookshelf());\r\n                dispatch(setLoading(false));\r\n            }\r\n\r\n            if (res.totalItems !== 0 && !res.error) {\r\n                dispatch(setTotalCount(res.totalItems));\r\n                if (update) {\r\n                    dispatch(updateBooks(res.items));\r\n                    dispatch(setLoading(false));\r\n                } else {\r\n                    dispatch(setCurrentPosition(0));\r\n                    dispatch(setBooks(res.items));\r\n                    dispatch(setLoading(false));\r\n                }\r\n            }\r\n            if (res.error) {\r\n                dispatch(setNotification(res.error.message));\r\n                dispatch(setLoading(false));\r\n                dispatch(setError(true));\r\n            }\r\n        } catch {\r\n            dispatch(setError(true));\r\n            dispatch(setLoading(false));\r\n            dispatch(setNotification(\"Произошла ошибка\"));\r\n        }\r\n    };\r\n};\r\n\r\nexport default reducer;\r\n","import { memo } from \"react\";\r\nimport styles from \"./filter-panel.module.css\";\r\n\r\nconst FilterPanel = memo(({ value, name, onSetCategories, onSetSort }) => {\r\n    function onChange(e) {\r\n        if (e.target.name === \"subjects\") {\r\n            onSetCategories(e.target.value);\r\n        } else if (e.target.name === \"date\") {\r\n            onSetSort(e.target.value);\r\n        }\r\n    }\r\n    return (\r\n        <select className={styles.filter__select} type=\"select\" name={name} onChange={onChange}>\r\n            {value.map((i) => (\r\n                <option key={i} value={i}>\r\n                    {i}\r\n                </option>\r\n            ))}\r\n        </select>\r\n    );\r\n});\r\n\r\nexport default FilterPanel;\r\n","import ReactDOM from \"react-dom\";\r\nimport styles from \"./modal.module.css\";\r\n\r\nconst Modal = ({ onCloseModal, message, critical }) => {\r\n    document.body.style.overflow = \"hidden\";\r\n    function onModalClose() {\r\n        document.body.style.overflow = \"auto\";\r\n        onCloseModal();\r\n    }\r\n    return ReactDOM.createPortal(\r\n        <div className={styles.modal__wrapper}>\r\n            <div className={styles.modal__body}>\r\n                {!critical && (\r\n                    <div className={styles.modal__close} onClick={onModalClose}>\r\n                        X\r\n                    </div>\r\n                )}\r\n                <div className={styles.modal__text}> {message}</div>\r\n            </div>\r\n        </div>,\r\n        document.body\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","import styles from \"./button-main.module.css\";\r\nconst ButtonMain = ({ name, disabled, ...props }) => {\r\n    if (name === \"load\") {\r\n        const { loadBooksCount, setLoadBooksCount, totalCount, stepPage } = props;\r\n        function click() {\r\n            setLoadBooksCount(loadBooksCount + stepPage);\r\n        }\r\n        return (\r\n            <>\r\n                {loadBooksCount > 0 && loadBooksCount < totalCount && (\r\n                    <button onClick={click} className={styles.button}>\r\n                        Load more\r\n                    </button>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n\r\n    if (name === \"search\") {\r\n        return (\r\n            <button className={styles.button} disabled={disabled}>\r\n                Поиск\r\n            </button>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ButtonMain;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ButtonMain from \"../button-main/button-main\";\r\nimport styles from \"./search-panel.module.css\";\r\nconst SearchPanel = ({\r\n    onSearchBook,\r\n    activeCategories,\r\n    activeSort,\r\n    loadBooksCount,\r\n    loading,\r\n    stepPage,\r\n    booksInShelfCount,\r\n}) => {\r\n    const [term, setTerm] = useState(\"\");\r\n    const [countBooksLoaded, setCountBooksLoaded] = useState(loadBooksCount);\r\n    function changeSearch(e) {\r\n        setTerm(e.target.value);\r\n    }\r\n\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        setCountBooksLoaded(loadBooksCount);\r\n        if (countBooksLoaded !== loadBooksCount && loadBooksCount > stepPage) {\r\n            onSearchBook(term, activeCategories, activeSort, booksInShelfCount, true);\r\n        }\r\n    }, [loadBooksCount]);\r\n    function searchBooks(e) {\r\n        e.preventDefault();\r\n        history.push(\"/\");\r\n\r\n        onSearchBook(term, activeCategories, activeSort, 0, false);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.search__wrapper}>\r\n            <form onSubmit={searchBooks}>\r\n                <input className={styles.search__input} type=\"text\" onChange={changeSearch} value={term}></input>\r\n                <ButtonMain disabled={!term || loading} name=\"search\" />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchPanel;\r\n","import styles from \"./title.module.css\";\r\n\r\nconst Title = ({ title }) => {\r\n    return <h1 className={styles.title__main}>{title}</h1>;\r\n};\r\n\r\nexport default Title;\r\n","export const getSubjects = (state) => {\r\n    return state.subjects;\r\n};\r\nexport const getSort = (state) => {\r\n    return state.sort;\r\n};\r\nexport const getBooks = (state) => {\r\n    return state.books;\r\n};\r\nexport const getActiveBook = (state) => {\r\n    return state.activeBook;\r\n};\r\nexport const getTotalCount = (state) => {\r\n    return state.totalCount;\r\n};\r\nexport const getActiveCategories = (state) => {\r\n    return state.activeCategories;\r\n};\r\nexport const getActiveSort = (state) => {\r\n    return state.activeSort;\r\n};\r\nexport const getLoadBooksCount = (state) => {\r\n    return state.loadBooksCount;\r\n};\r\nexport const isLoading = (state) => {\r\n    return state.loading;\r\n};\r\nexport const getBooksInShelfCount = (state) => {\r\n    return state.books.length;\r\n};\r\nexport const getStepPage = (state) => {\r\n    return state.stepPage;\r\n};\r\nexport const getNotification = (state) => {\r\n    return state.notification;\r\n};\r\nexport const getCurrentPosition = (state) => {\r\n    return state.currentPosition;\r\n};\r\nexport const isError = (state) => {\r\n    return state.error;\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport { onCloseModal, searchBookshelf, setActiveCategories, setActiveSort } from \"../../reducer/reducer\";\r\nimport FilterPanel from \"../filter-panel/filter-panel\";\r\nimport Modal from \"../modal/modal\";\r\nimport SearchPanel from \"../search-panel/search-panel\";\r\nimport Title from \"../title/title\";\r\nimport {\r\n    getActiveCategories,\r\n    getActiveSort,\r\n    getBooksInShelfCount,\r\n    getLoadBooksCount,\r\n    getNotification,\r\n    getSort,\r\n    getStepPage,\r\n    getSubjects,\r\n    isError,\r\n    isLoading,\r\n} from \"../../selectors/selectors\";\r\nimport styles from \"./search-container.module.css\";\r\n\r\nconst SearchContainer = (props) => {\r\n    return (\r\n        <div className={styles.search__container}>\r\n            <Title title=\"Library\" />\r\n            <SearchPanel\r\n                onSearchBook={props.onSearchBook}\r\n                activeCategories={props.activeCategories}\r\n                activeSort={props.activeSort}\r\n                loadBooksCount={props.loadBooksCount}\r\n                loading={props.loading}\r\n                stepPage={props.stepPage}\r\n                booksInShelfCount={props.booksInShelfCount}\r\n            />\r\n            <div className={styles.search__filter}>\r\n                <FilterPanel value={props.subjects} name=\"subjects\" onSetCategories={props.onSetCategories} />\r\n                <FilterPanel value={props.sort} name=\"date\" onSetSort={props.onSetSort} />\r\n            </div>\r\n            {props.error && <Modal message={props.notification} onCloseModal={props.onCloseModal} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        subjects: getSubjects(state),\r\n        sort: getSort(state),\r\n        activeCategories: getActiveCategories(state),\r\n        activeSort: getActiveSort(state),\r\n        loadBooksCount: getLoadBooksCount(state),\r\n        loading: isLoading(state),\r\n        stepPage: getStepPage(state),\r\n        notification: getNotification(state),\r\n        error: isError(state),\r\n        booksInShelfCount: getBooksInShelfCount(state),\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onSearchBook: (term, categories, sort, count, update) => {\r\n            dispatch(searchBookshelf(term, categories, sort, count, update));\r\n        },\r\n        onSetCategories: (categories) => {\r\n            dispatch(setActiveCategories(categories));\r\n        },\r\n        onSetSort: (sort) => {\r\n            dispatch(setActiveSort(sort));\r\n        },\r\n        onCloseModal: () => {\r\n            dispatch(onCloseModal());\r\n        },\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchContainer);\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { memo, useEffect } from \"react\";\r\nimport styles from \"./books.module.css\";\r\n\r\nconst Books = memo(({ items, setBookPage, currentPosition, setCurrentPosition, setLoading, activeBook }) => {\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (currentPosition !== 0 && !activeBook) {\r\n            window.scrollTo(window.pageYOffset, currentPosition);\r\n            setLoading(false);\r\n        }\r\n    }, [currentPosition]);\r\n\r\n    function toBookPage(id) {\r\n        setBookPage(id);\r\n        setCurrentPosition(window.pageYOffset);\r\n        history.push(`/book/${id}`);\r\n    }\r\n\r\n    if (items && items.length !== 0) {\r\n        return (\r\n            <div className={styles.books__wrapper}>\r\n                {items.map((i) => {\r\n                    const authors =\r\n                        i.volumeInfo.authors?.length > 1\r\n                            ? i.volumeInfo.authors.reduce((acc, i) => `${acc}, ${i}`)\r\n                            : i.volumeInfo.authors;\r\n                    return (\r\n                        <div className={styles.book__wrapper} key={i.id}>\r\n                            <div className={styles.book__image}>\r\n                                <img\r\n                                    src={i.volumeInfo.imageLinks?.smallThumbnail || \"\"}\r\n                                    alt={i.volumeInfo.title || \"\"}\r\n                                    onClick={() => toBookPage(i.id)}\r\n                                />\r\n                            </div>\r\n                            <div className={styles.book__categories}>{i.volumeInfo.categories || \"\"}</div>\r\n                            <h2 className={styles.book__title} onClick={() => toBookPage(i.id)}>\r\n                                {i.volumeInfo.title || \"\"}\r\n                            </h2>\r\n\r\n                            {authors && <div className={styles.book__authors}>{authors}</div>}\r\n                            <div>{i.id}</div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n});\r\n\r\nexport default Books;\r\n","import styles from \"./counter.module.css\";\r\n\r\nconst Counter = ({ count }) => {\r\n    return (\r\n        <div className={styles.counter}>\r\n            Найдено: <span>{count}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Counter;\r\n","import styles from \"./spinner.module.css\";\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className={styles.spinner__wrapper}>\r\n            <div className={styles.spinner__block}>\r\n                <div className={styles.loadingio__spinner__magnify__br2a0iyrb4a}>\r\n                    <div className={styles.ldio__v41ylq3usio}>\r\n                        <div>\r\n                            <div>\r\n                                <div></div>\r\n                                <div></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Spinner;\r\n","import { connect } from \"react-redux\";\r\nimport { setCurrentPosition, setLoadBooksCount, setLoading, setPageBook } from \"../../reducer/reducer\";\r\nimport Books from \"../books/books\";\r\nimport Counter from \"../counter/counter\";\r\nimport ButtonMain from \"../button-main/button-main\";\r\nimport Spinner from \"../spinner/spinner\";\r\nimport {\r\n    getTotalCount,\r\n    getActiveBook,\r\n    getBooks,\r\n    getCurrentPosition,\r\n    getLoadBooksCount,\r\n    getStepPage,\r\n    isLoading,\r\n} from \"../../selectors/selectors\";\r\n\r\nconst BooksContainer = (props) => {\r\n    return (\r\n        <>\r\n            <Counter count={props.totalCount} />\r\n            {props.loading && <Spinner />}\r\n            <Books\r\n                items={props.books}\r\n                setBookPage={props.setBookPage}\r\n                currentPosition={props.currentPosition}\r\n                setCurrentPosition={props.setCurrentPosition}\r\n                setLoading={props.setLoading}\r\n                activeBook={props.activeBook}\r\n            />\r\n            <ButtonMain\r\n                name=\"load\"\r\n                setLoadBooksCount={props.setLoadBooksCount}\r\n                loadBooksCount={props.loadBooksCount}\r\n                totalCount={props.totalCount}\r\n                stepPage={props.stepPage}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        books: getBooks(state),\r\n        totalCount: getTotalCount(state),\r\n        loadBooksCount: getLoadBooksCount(state),\r\n        loading: isLoading(state),\r\n        stepPage: getStepPage(state),\r\n        currentPosition: getCurrentPosition(state),\r\n        activeBook: getActiveBook(state),\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setLoadBooksCount: (count) => {\r\n            dispatch(setLoadBooksCount(count));\r\n        },\r\n        setBookPage: (id) => {\r\n            dispatch(setPageBook(id));\r\n        },\r\n        setCurrentPosition: (position) => {\r\n            dispatch(setCurrentPosition(position));\r\n        },\r\n        setLoading: (loading) => {\r\n            dispatch(setLoading(loading));\r\n        },\r\n    };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BooksContainer);\r\n","import styles from \"./book-page.module.css\";\r\n\r\nconst BookPage = ({ click, image, categories, title, subtitle, authors, date, descr }) => {\r\n    return (\r\n        <div className={styles.book__wrapper}>\r\n            <button className={styles.button__back} onClick={() => click()}>\r\n                <span>X</span>\r\n            </button>\r\n            <div className={styles.book__image}>\r\n                <img src={image} alt={title} />\r\n            </div>\r\n            <div className={styles.book__descr}>\r\n                <div className={styles.book__categories}>{categories}</div>\r\n                <h2 className={styles.book__title}>{title}</h2>\r\n                <h3 className={styles.book__subtitle}>{subtitle}</h3>\r\n                <div className={styles.book__authors}>{authors}</div>\r\n                <div className={styles.book__date}>Published date: {date}</div>\r\n                {descr && <div className={styles.book__description}>{descr}</div>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookPage;\r\n","import { connect } from \"react-redux\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { deleteActiveBook, setLoading } from \"../../reducer/reducer\";\r\nimport { getActiveBook } from \"../../selectors/selectors\";\r\nimport BookPage from \"../book-page/book-page\";\r\n\r\nconst BookPageContainer = ({ activeBook, setLoading, deleteActiveBook }) => {\r\n    const history = useHistory();\r\n    if (history.location.pathname !== \"\" && !activeBook) {\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    const title = activeBook.volumeInfo.title || \"\";\r\n    const subtitle = activeBook.volumeInfo.subtitle || \"\";\r\n    const image = activeBook.volumeInfo.imageLinks?.thumbnail || \"\";\r\n    const categories = activeBook.volumeInfo.categories || \"\";\r\n    const authors =\r\n        activeBook.volumeInfo?.authors?.length > 1\r\n            ? activeBook.volumeInfo.authors.reduce((acc, i) => `${acc}, ${i}`)\r\n            : activeBook.volumeInfo.authors || \"\";\r\n    const date = activeBook.volumeInfo.publishedDate || \"\";\r\n    const descr = activeBook.searchInfo?.textSnippet || \"\";\r\n\r\n    function backward() {\r\n        setLoading(true);\r\n        deleteActiveBook();\r\n        history.push(\"/\");\r\n    }\r\n\r\n    return (\r\n        <BookPage\r\n            click={backward}\r\n            image={image}\r\n            categories={categories}\r\n            title={title}\r\n            subtitle={subtitle}\r\n            authors={authors}\r\n            date={date}\r\n            descr={descr}\r\n        />\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activeBook: getActiveBook(state),\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setLoading: (loading) => {\r\n            dispatch(setLoading(loading));\r\n        },\r\n        deleteActiveBook: () => {\r\n            dispatch(deleteActiveBook());\r\n        },\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookPageContainer);\r\n","import { HashRouter as Router, Route } from \"react-router-dom\";\nimport SearchContainer from \"./components/search-container/search-container\";\nimport BooksContainer from \"./components/books-container/books-container\";\nimport BookPageContainer from \"./components/book-page-container/book-page-container\";\nimport \"./App.css\";\n\nfunction App() {\n    return (\n        <Router basename=\"/\">\n            <SearchContainer />\n            <Route exact path=\"/\" component={BooksContainer} />\n            <Route path=\"/book/:id\" component={BookPageContainer} />\n        </Router>\n    );\n}\n\nexport default App;\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport reducer from \"../reducer/reducer\";\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import { Component } from \"react\";\r\nimport Modal from \"../modal/modal\";\r\n\r\nexport default class ErrorBoundary extends Component {\r\n    state = {\r\n        error: false,\r\n    };\r\n\r\n    componentDidCatch() {\r\n        console.log(\"catch\");\r\n        this.setState({\r\n            error: true,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <Modal message=\"Что-то пошло не так...\" critical />;\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport ErrorBoundary from \"./components/error-boundary/error-boundary\";\n\nReactDOM.render(\n    <ErrorBoundary>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </ErrorBoundary>,\n    document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book__wrapper\":\"book-page_book__wrapper__26OOQ\",\"book__image\":\"book-page_book__image__1mGzz\",\"book__descr\":\"book-page_book__descr__2AeKQ\",\"book__title\":\"book-page_book__title__3gkF9\",\"book__subtitle\":\"book-page_book__subtitle__1IqE5\",\"book__categories\":\"book-page_book__categories__GAuOU\",\"book__authors\":\"book-page_book__authors__2QpDC\",\"book__date\":\"book-page_book__date__1KeJy\",\"book__description\":\"book-page_book__description__1i0hT\",\"button__back\":\"book-page_button__back__1lc30\"};"],"sourceRoot":""}